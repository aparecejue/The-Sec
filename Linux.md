# Linux
## Introduction
### 内核的功能
1. **系统内存管理**
   1. 管理可用物理内存
   2. 创建和管理虚拟内存
     - 通过硬盘上的存储空间来实现虚拟内存，该区域称为**交换分区(swap space)**，内核不断在交换分区和实际物理内存之间反复交换虚拟内存中的数据。
     - 内存存储单元按组分成很多块，分成的块称为**页面**，内核会维护一个内存页面表，指明每个页面所在的位置
     - 内核会记录未在使用的内存页面，并自动把一段时间未访问的内存页面复制到交换交换空间，称为**换出**
2. **软件程序管理**
   1. 运行中的程序称为**进程**
   2. 内核创建了第一个进程(init进程)来启动系统上其他进程。内核启动时，会将init进程加载到虚拟内存。
   3. 运行级别
      0. 停机
      1. 单用户模式，只启动基本的系统进程以及一个控制台终端进程。一般管理员登陆
      2. 多用户模式，无NFS,不启用网络
      3. 启动大多数应用程序，比如网络支持程序，命令行窗口
      4. 未定义
      5. 启动x window图形化窗口
3. **硬件设备管理**
   1. 任何需要与Linux系统通信的设备都要在内核代码中加入驱动程序代码。
   2. 插入设备驱动代码的方法
      1. 编译进内核的设备驱动代码
      2. 可插入内核的设备驱动模块
   3. Linux系统将硬件设备当作特殊的文件，称为**设备文件**
      1. 字符型设备文件
         - 处理数据时每次只能处理一个字符的设备。
      2. 块设备文件
         - 处理数据时每次能处理大块数据的设备。 
      3. 网络设备文件 
         - 采用数据包发送和接收数据的设备。
    4. Linux为系统上的每个设备都创建了一种称为**节点**的特殊文件。与设备的所有通信都通过设备节点完成。每个皆都都有唯一的数值对供Linux内核标记。数值对包括一个主设备好和一个次设备号。次设备号用于标识主设备下的某个特定设备。 
4. **文件系统管理**
    1. 内核必须在编译时就加入对所有可能用到的文件系统的支持。
    2. Linux内核采用虚拟文件系统(VFS)作为和每个文件系统交互的接口。当每个文件系统都被挂载和使用时，VFS将信息都缓存在内存中。